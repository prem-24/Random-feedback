{"ast":null,"code":"var _jsxFileName = \"/Users/premkumar.i/Downloads/january-mern-main/random-review/src/components/FeedbackForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport Card from './shared/Card';\nimport Button from './shared/Button';\nimport { toast } from 'react-toastify';\nimport RatingSelect from '../components/RatingSelect';\nimport FeedbackContext from '../context/FeedbackContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FeedbackForm = () => {\n  _s();\n  const {\n    addFeedback,\n    feedbackEdit,\n    updateFeedback\n  } = useContext(FeedbackContext);\n  const [text, setText] = useState(\"\");\n  const [rating, setRating] = useState(1);\n  const [desc, setDesc] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  useEffect(() => {\n    if (feedbackEdit.edit === true) {\n      setText(feedbackEdit.item.text);\n      setDesc(feedbackEdit.item.desc);\n      setName(feedbackEdit.item.name);\n      setEmail(feedbackEdit.item.email);\n      setRating(feedbackEdit.item.rating);\n    }\n  }, [feedbackEdit]);\n  const isTextValid = text.length >= 5;\n  const isDescValid = desc.length >= 10;\n  const isNameValid = name.trim() !== \"\";\n  const isEmailValid = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(email);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!isTextValid || !isDescValid || !isNameValid || !isEmailValid) {\n      if (!isTextValid) {\n        toast.error(\"Feedback text must be at least 5 characters.\");\n      }\n      if (!isDescValid) {\n        toast.error(\"Desc text must be at least 10 characters.\");\n      }\n      if (!isTextValid) {\n        toast.error(\"Name field is required.\");\n      }\n      if (!isTextValid) {\n        toast.error(\"Invalid email address.\");\n      }\n    } else {\n      const newFeedback = {\n        text,\n        rating,\n        desc,\n        name,\n        email\n      };\n      console.log();\n      if (feedbackEdit.edit === true) {\n        updateFeedback(feedbackEdit.item.id, newFeedback);\n      } else {\n        // handleAdd(newFeedback);\n        addFeedback(newFeedback);\n      }\n      setText(\"\");\n      setDesc(\"\");\n      setName(\"\");\n      setEmail(\"\");\n      toast.success(\"All got successfully\");\n    }\n  };\n  const setRatingFunction = rating => {\n    return setRating(rating);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Review Our Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RatingSelect, {\n        select: setRatingFunction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"add a title\",\n          onChange: e => setText(e.target.value),\n          value: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"add a desc\",\n          onChange: e => setDesc(e.target.value),\n          value: desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Your name\",\n            onChange: e => setName(e.target.value),\n            value: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Your email\",\n            onChange: e => setEmail(e.target.value),\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          version: \"primary\",\n          children: feedbackEdit.edit === true ? \"Update\" : \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(FeedbackForm, \"dPkZ7kpQ5STeavQ9pAcSBaSQ2Z8=\");\n_c = FeedbackForm;\nexport default FeedbackForm;\nvar _c;\n$RefreshReg$(_c, \"FeedbackForm\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Card","Button","toast","RatingSelect","FeedbackContext","jsxDEV","_jsxDEV","FeedbackForm","_s","addFeedback","feedbackEdit","updateFeedback","text","setText","rating","setRating","desc","setDesc","name","setName","email","setEmail","edit","item","isTextValid","length","isDescValid","isNameValid","trim","isEmailValid","test","handleSubmit","e","preventDefault","error","newFeedback","console","log","id","success","setRatingFunction","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","select","className","type","placeholder","onChange","target","value","version","_c","$RefreshReg$"],"sources":["/Users/premkumar.i/Downloads/january-mern-main/random-review/src/components/FeedbackForm.jsx"],"sourcesContent":["import React, { useContext, useState , useEffect} from 'react'\nimport Card from './shared/Card'\nimport Button from './shared/Button';\nimport { toast } from 'react-toastify';\nimport RatingSelect from '../components/RatingSelect';\nimport FeedbackContext from '../context/FeedbackContext';\n\n\nconst FeedbackForm = () => {\n\n  const { addFeedback ,feedbackEdit, updateFeedback} = useContext(FeedbackContext);\n\n  const [text, setText] = useState(\"\");\n  const [rating, setRating] = useState(1);\n  const [desc, setDesc] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n\n  useEffect(() => {\n   if(feedbackEdit.edit === true){\n\n     setText(feedbackEdit.item.text);\n     setDesc(feedbackEdit.item.desc);\n     setName(feedbackEdit.item.name);\n     setEmail(feedbackEdit.item.email);\n     setRating(feedbackEdit.item.rating);\n\n   }\n  }, [feedbackEdit])\n\n  const isTextValid = text.length >= 5;\n  const isDescValid = desc.length >= 10;\n  const isNameValid = name.trim() !== \"\";\n  const isEmailValid = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(email);\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!isTextValid || !isDescValid || !isNameValid || !isEmailValid) {\n      if (!isTextValid) {\n        toast.error(\"Feedback text must be at least 5 characters.\")\n      }\n      if (!isDescValid) {\n        toast.error(\"Desc text must be at least 10 characters.\")\n      }\n      if (!isTextValid) {\n        toast.error(\"Name field is required.\")\n      }\n      if (!isTextValid) {\n        toast.error(\"Invalid email address.\")\n      }\n    } else {\n\n      const newFeedback = {\n        text,\n        rating,\n        desc,\n        name,\n        email\n      }\nconsole.log()\n\n      if(feedbackEdit.edit === true){\n        updateFeedback(feedbackEdit.item.id, newFeedback)\n      } else{\n        // handleAdd(newFeedback);\n         addFeedback(newFeedback);\n      }\n\n    \n\n      setText(\"\");\n      setDesc(\"\");\n      setName(\"\");\n      setEmail(\"\");\n\n\n      toast.success(\"All got successfully\");\n    }\n\n\n\n\n\n  }\n\n  const setRatingFunction = (rating) => {\n    return setRating(rating);\n  };\n  \n  return (\n    <Card>\n      <form onSubmit={handleSubmit}>\n        <h2>Review Our Product</h2>\n\n\n        <RatingSelect select={setRatingFunction}/>\n\n        <div className='input-group'>\n          <input type=\"text\" placeholder='add a title' onChange={(e) => setText(e.target.value)} value={text} />\n\n          <textarea placeholder='add a desc' onChange={(e) => setDesc(e.target.value)} value={desc}></textarea>\n\n          <div className='d-flex'>\n            <input type=\"text\" placeholder='Your name' onChange={(e) => setName(e.target.value)} value={name} />\n            <input type=\"text\" placeholder='Your email' onChange={(e) => setEmail(e.target.value)} value={email} />\n          </div>\n\n          <Button type=\"submit\" version=\"primary\">\n             {feedbackEdit.edit === true ? \"Update\" : \"Send\"}\n          </Button>\n\n        </div>\n\n\n      </form>\n    </Card>\n  )\n}\n\nexport default FeedbackForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}